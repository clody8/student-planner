# üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–í `docker-compose.yml` —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–µ–º–æ-–∫–ª—é—á–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ OAuth. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∑–∞–º–µ–Ω–∏—Ç–µ –∏—Ö –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ.

## üîµ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google OAuth

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Google Cloud Console

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
3. –í–∫–ª—é—á–∏—Ç–µ Google+ API –≤ —Ä–∞–∑–¥–µ–ª–µ "APIs & Services" > "Library"

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OAuth 2.0

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "APIs & Services" > "Credentials"
2. –ù–∞–∂–º–∏—Ç–µ "Create Credentials" > "OAuth 2.0 Client IDs"
3. –í—ã–±–µ—Ä–∏—Ç–µ "Web application"
4. –î–æ–±–∞–≤—å—Ç–µ authorized redirect URIs:
   - `http://localhost:3000/auth/google/callback` (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
   - `https://yourdomain.com/auth/google/callback` (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:
- **Client ID** - –ø—É–±–ª–∏—á–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
- **Client Secret** - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ó–∞–º–µ–Ω–∏—Ç–µ –≤ `docker-compose.yml`:
```yaml
- GOOGLE_CLIENT_ID=your-real-google-client-id
- GOOGLE_CLIENT_SECRET=your-real-google-client-secret
```

## üîµ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ VK OAuth

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è VK

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [vk.com/dev](https://vk.com/dev)
2. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø "–í–µ–±-—Å–∞–π—Ç"
4. –£–∫–∞–∂–∏—Ç–µ –∞–¥—Ä–µ—Å —Å–∞–π—Ç–∞: `http://localhost:3000` (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"
2. –î–æ–±–∞–≤—å—Ç–µ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–π redirect URI:
   - `http://localhost:3000/auth/vk/callback`
3. –í–∫–ª—é—á–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ email –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞–π–¥–∏—Ç–µ:
- **ID –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** - —ç—Ç–æ –≤–∞—à Client ID  
- **–ó–∞—â–∏—â—ë–Ω–Ω—ã–π –∫–ª—é—á** - —ç—Ç–æ –≤–∞—à Client Secret

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ó–∞–º–µ–Ω–∏—Ç–µ –≤ `docker-compose.yml`:
```yaml
- VK_CLIENT_ID=your-vk-app-id
- VK_CLIENT_SECRET=your-vk-app-secret
```

## üöÄ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–ª—é—á–µ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend:

```bash
docker-compose restart backend
```

## üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000/login
2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google" –∏–ª–∏ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ VK"
3. –î–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

- **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ** —Ä–µ–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –≤ git
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ `.env` —Ñ–∞–π–ª—ã
- –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–º–µ–Ω–∏—Ç–µ `SECRET_KEY`
- VAPID –∫–ª—é—á–∏ —É–∂–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω—ã –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π

–¢–µ–∫—É—â–∏–µ –¥–µ–º–æ-–∫–ª—é—á–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç:
- ‚úÖ –£–≤–∏–¥–µ—Ç—å –∫–Ω–æ–ø–∫–∏ OAuth –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Ö–æ–¥–∞
- ‚úÖ –ü–æ–ª—É—á–∏—Ç—å URL –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–Ω–æ –æ–Ω –Ω–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å)
- ‚ùå –†–µ–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç –¥–æ –∑–∞–º–µ–Ω—ã –Ω–∞ –Ω–∞—Å—Ç–æ—è—â–∏–µ –∫–ª—é—á–∏

–î–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–º–µ–Ω–∏—Ç–µ –∫–ª—é—á–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤—ã—à–µ. 